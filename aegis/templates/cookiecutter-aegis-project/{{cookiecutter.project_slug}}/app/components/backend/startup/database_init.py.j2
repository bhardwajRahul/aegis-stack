"""
Database initialization startup hook.

Ensures database tables are created and directory structure exists
when the backend starts up (only when database component is included).
"""
{% if cookiecutter.include_database == "yes" %}

from app.core.db import init_database
from app.core.log import logger


async def startup_database_init() -> None:
    """
    Initialize database tables and directory structure on startup.
    
    This hook runs when the backend starts to ensure the database
    is properly set up before any requests are processed.
    """
    try:
        init_database()
        logger.info("ğŸ—ƒï¸  Database initialization completed")
    except Exception as e:
        logger.error(f"âŒ Database initialization failed: {e}")
        raise
{% endif %}